(function(i,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(i=typeof globalThis<"u"?globalThis:i||self,e(i["tiny-typer"]={},i.Vue))})(this,function(i,e){"use strict";var f=document.createElement("style");f.textContent=`:root{--white: #FFFFFF;--black: #000000;--grey: #F2F2F2;--blue: #499FF4}.tiny-typer span{color:var(--black)!important}.tiny-typer-wrapper{background:var(--white);min-width:50dvw;min-height:20rem;border-radius:1rem}.tiny-typer-toolbar{display:flex;flex-direction:row;height:3rem;width:100%;background:var(--white);border-bottom:1px solid var(--grey);border-top-left-radius:1rem;border-top-right-radius:1rem}.tiny-typer-toolbar-nav{display:flex;flex-direction:row;align-items:center;justify-content:flex-start;width:100%;padding:1rem;gap:2rem}.tiny-typer-toolbar-nav-item{all:unset;list-style-type:none;display:inline-flex;gap:1rem}.tiny-typer-toolbar-nav-item span{color:var(--black)}.tiny-typer-content{position:relative;width:100%;min-height:20rem;padding:1rem}.tiny-typer-content:focus-visible{outline:none}.tiny-typer-content b,.tiny-typer-content strong,.tiny-typer-content b i,.tiny-typer-content strong i{font-weight:700}.tiny-typer-footer{display:flex;width:100%;height:3rem;border-top:1px solid var(--grey);align-items:center;justify-content:flex-end;padding:1rem;border-bottom-left-radius:1rem;border-bottom-right-radius:1rem}.tiny-typer-copyright{color:var(--black)!important}.tiny-typer-debugger{width:100%;background:var(--black);color:#00bd7e;padding:1rem;margin-top:1rem;border-radius:1rem}
`,document.head.appendChild(f);const g=[{order:0,toolbarItems:[{id:"undo",order:0,name:"Undo",icon:"icon-undo",functionName:"undoRedo"},{id:"redo",order:1,name:"Redo",icon:"icon-redo",functionName:"undoRedo"}]},{order:1,toolbarItems:[{id:"bold",order:0,name:"Bold",icon:"icon-bold",functionName:"toggleFormat"},{id:"italic",order:1,name:"Italic",icon:"icon-italic",functionName:"toggleFormat"},{id:"strikeThrough",order:2,name:"Strike",icon:"icon-strike",functionName:"toggleFormat"},{id:"underline",order:3,name:"Underline",icon:"icon-underline",functionName:"toggleFormat"}]}],b={toggleFormat:t=>{document.execCommand(t)},undoRedo:t=>{document.execCommand(t)}};function _({content:t,editorRef:o}){const c=e.computed(()=>g),l=(n,a)=>{b[n](a)},s=e.computed(()=>({content:t,editorRef:o}));return{getToolBarItems:c,getInstances:s,handleEnterKey:n=>{n.key==="Enter"&&(n.preventDefault(),document.execCommand("insertHTML",!1,"<br><br>"))},setEditorRef:()=>{o.value=document.querySelector(".tiny-typer-content")},callFunction:l,getContent:()=>{const n=o.value;if(n){const a=document.createRange(),p=document.getSelection();return a.selectNodeContents(n),a.collapse(!1),p==null||p.removeAllRanges(),p==null||p.addRange(a),n==null?void 0:n.innerHTML}return""}}}const h={class:"tiny-typer-toolbar"},T={class:"tiny-typer-toolbar-nav"},k=["onClick"],m=e.defineComponent({__name:"TinyTyperToolbar",setup(t){const{getToolBarItems:o,callFunction:c}=e.inject("tinyTyper");return(l,s)=>(e.openBlock(),e.createElementBlock("div",h,[e.createElementVNode("div",T,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(o),r=>(e.openBlock(),e.createElementBlock("ul",{class:"tiny-typer-toolbar-nav-item",key:r.order},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(r.toolbarItems,d=>(e.openBlock(),e.createElementBlock("li",{key:d.order},[e.createElementVNode("button",{onClick:y=>e.unref(c)(d.functionName,d.id)},e.toDisplayString(d.name),9,k)]))),128))]))),128))])]))}}),E=t=>(e.pushScopeId("data-v-6b2cb368"),t=t(),e.popScopeId(),t),F={class:"tiny-typer-wrapper"},w=["innerHTML"],x=E(()=>e.createElementVNode("div",{class:"tiny-typer-footer"},[e.createElementVNode("span",{class:"tiny-typer-copyright"},"TinyTyper")],-1)),u=((t,o)=>{const c=t.__vccOpts||t;for(const[l,s]of o)c[l]=s;return c})(e.defineComponent({__name:"TinyTyperBase",emits:["onInput","onFocusOut"],setup(t,{emit:o}){const c=e.ref(""),l=e.ref(null),s=o,r=_({content:c,editorRef:l});e.provide("tinyTyper",r);const d=()=>{const y=r.getContent();s("onInput",y)};return(y,n)=>(e.openBlock(),e.createElementBlock("div",F,[e.createVNode(m),e.createElementVNode("div",{id:"tinyTyperEditor",class:"tiny-typer-content",contenteditable:"true",onInput:d,onKeydown:n[0]||(n[0]=e.withKeys(e.withModifiers((...a)=>e.unref(r).handleEnterKey&&e.unref(r).handleEnterKey(...a),["prevent"]),["enter"])),innerHTML:c.value,onMousedown:n[1]||(n[1]=(...a)=>e.unref(r).setEditorRef&&e.unref(r).setEditorRef(...a))},null,40,w),x]))}}),[["__scopeId","data-v-6b2cb368"]]),B=Object.freeze(Object.defineProperty({__proto__:null,TinyTyperBase:u,TinyTyperToolbar:m},Symbol.toStringTag,{value:"Module"}));function N(t){for(const o in B)(void 0)(o)}const C={install:N};i.TinyTyperBase=u,i.TinyTyperToolbar=m,i.default=C,Object.defineProperties(i,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
